# =============================================================================
# Hora Services QA Framework - Environment Configuration
# =============================================================================
# Copy this file to .env and update values as needed

# -----------------------------------------------------------------------------
# Application Under Test
# -----------------------------------------------------------------------------
BASE_URL=http://localhost:8069

# Odoo Credentials (for API and Web login)
ODOO_USERNAME=admin
ODOO_PASSWORD=admin
ODOO_DATABASE=hora_qa_db

# Optional: REST base URL override (defaults to BASE_URL)
# REST_BASE_URL=http://localhost:8069

# -----------------------------------------------------------------------------
# Browser Configuration
# -----------------------------------------------------------------------------
# Run tests in headless mode (true/false)
HEADLESS=true

# Browser type: chromium, firefox, webkit
BROWSER=chromium

# Slow down actions by specified milliseconds (useful for debugging)
SLOW_MO=0

# Default timeout in milliseconds
TIMEOUT=30000

# Viewport dimensions
VIEWPORT_WIDTH=1920
VIEWPORT_HEIGHT=1080

# -----------------------------------------------------------------------------
# Test Configuration
# -----------------------------------------------------------------------------
# Enable screenshot on failure
SCREENSHOT_ON_FAILURE=true

# Enable video recording
VIDEO_RECORDING=false

# Retry failed tests count
RETRY_COUNT=0

# -----------------------------------------------------------------------------
# Reporting
# -----------------------------------------------------------------------------
# Report output directory
REPORTS_DIR=reports/cucumber

# Generate HTML report after test run
GENERATE_HTML_REPORT=true

# -----------------------------------------------------------------------------
# Database (for direct DB operations)
# -----------------------------------------------------------------------------
# Enable database client for integration tests (true/false)
DB_ENABLED=true

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=odoo
POSTGRES_PASSWORD=odoo
POSTGRES_DATABASE=hora_qa_db

# -----------------------------------------------------------------------------
# CTI (Computer Telephony Integration)
# -----------------------------------------------------------------------------
# CTI mode: mock (for testing without real PBX), disabled
CTI_MODE=mock

# -----------------------------------------------------------------------------
# Offline Sync
# -----------------------------------------------------------------------------
# Offline mode: mock (for testing offline sync), disabled
OFFLINE_MODE=mock

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable verbose logging
VERBOSE=false

# Optional: step timing diagnostics in console output
# DEBUG_TIMING=false

# Optional: per-user passwords for scenarios that log in as a named user
# Format: USER_<USERNAME>_PASSWORD
# Example:
# USER_DISPATCH_PASSWORD=admin


# ------------------------------------------------------------
# hora-qa-framework â€” .env.example
# Copy to ".env" locally. NEVER commit real credentials.
# ------------------------------------------------------------

# -----------------------------
# Global / Execution
# -----------------------------
# Optional explicit run id for deterministic tagging (CI build id, timestamp, etc.)
E2E_RUN_ID=

# Select test data seeding mode:
# - rpc (default)  : Odoo JSON-RPC create/search/unlink
# - db             : Postgres direct (ONLY for local docker/test env)
# - ui             : seed/cleanup via UI (fallback)
SEED_MODE=rpc

# Update baseline screenshots for visual regression POC:
# Set to 1 to (re)generate baselines, unset/0 to compare with existing baselines
UPDATE_BASELINE=0

# -----------------------------
# Playwright / Browser
# -----------------------------
BASE_URL=http://localhost:8069
HEADLESS=true
BROWSER=chromium

# Optional timeouts (ms). Keep empty to use framework defaults.
PW_TIMEOUT_MS=
PW_EXPECT_TIMEOUT_MS=

# -----------------------------
# Odoo JSON-RPC (Community/Enterprise)
# -----------------------------
# Odoo base URL (same as BASE_URL usually)
ODOO_URL=http://localhost:8069

# Odoo database name (docker-compose commonly uses "odoo" or "postgres")
ODOO_DB=odoo

# Test user credentials (create a dedicated QA user)
ODOO_USERNAME=qa@example.com
ODOO_PASSWORD=change_me

# Optional: Odoo JSON-RPC endpoint override (normally not needed)
# Example: /jsonrpc (common for Odoo)
ODOO_JSONRPC_PATH=/jsonrpc

# Optional: Target model for seed demo (defaults should be in code)
# Example for Fleet: fleet.vehicle
ODOO_SEED_MODEL=fleet.vehicle

# Marker prefix used to tag created data for cleanup (safe default)
E2E_MARKER_PREFIX=E2E

# -----------------------------
# Postgres (ONLY for SEED_MODE=db)
# -----------------------------
PG_HOST=localhost
PG_PORT=5432
PG_DATABASE=postgres
PG_USER=odoo
PG_PASSWORD=odoo

# Optional SSL mode (disable for local docker)
PG_SSL=false

# -----------------------------
# Reporting / Allure
# -----------------------------
# Paths (change only if your repo uses different defaults)
ALLURE_RESULTS_DIR=allure-results
ALLURE_REPORT_DIR=allure-report

# If you persist Allure history between runs (CI artifacts), set this path.
# In CI you usually restore to allure-report/history before generating the report.
ALLURE_HISTORY_DIR=allure-history

# -----------------------------
# Optional: CI flags
# -----------------------------
CI=false
